{"version":3,"sources":["/Users/lixianjie/project/openSource/m78/packages/utils/src/is.ts"],"sourcesContent":["import { AnyFunction } from \"./common-type.js\";\n\ntype Primitive = null | undefined | boolean | number | string | symbol;\n\n/**\n * 获取表示对象原始类型的字符串\n * @param {*} o - 需要查询的字符\n *  @returns {string}\n * */\nexport function getProtoStr(o) {\n  return Object.prototype.toString.call(o);\n}\n\n/** 检测是否为数组 */\nexport function isArray(arg: any): arg is any[] {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return getProtoStr(arg) === \"[object Array]\";\n}\n\n/** 数值且包含至少一项 */\nexport function isTruthyArray<T = any>(arg: any): arg is T[] {\n  if (!isArray(arg)) return false;\n  return arg.length !== 0;\n}\n\n/**\n * 检测是否为数字且非NAN\n * @param {*} arg - 需待查询的对象\n * @returns {boolean}\n * */\nexport function isNumber(arg: any): arg is number {\n  return typeof arg === \"number\" && !isNaN(arg);\n}\n\nexport function isWeakNumber(arg: any) {\n  return isNumber(Number(arg));\n}\n\n/** 检测是否为字符串  */\nexport function isString(arg: any): arg is string {\n  return typeof arg === \"string\";\n}\n\n/** 检测是否为整数 */\nexport function isInt(value: any): value is number {\n  if (isNaN(value) || isString(value)) {\n    return false;\n  }\n  const x = parseFloat(value);\n  return (x | 0) === x;\n}\n\n/**\n * 检测是否为symbol\n * @param {*} arg - 需待查询的对象\n * @returns {boolean}\n * */\nexport function isSymbol(arg: any): arg is symbol {\n  return typeof arg === \"symbol\";\n}\n\n/** 检测是不是原始类型, null、string、boolean、number、symbol、undefined */\nexport function isPrimitive(arg: any): arg is Primitive {\n  return (\n    arg === null ||\n    typeof arg === \"boolean\" ||\n    typeof arg === \"number\" ||\n    typeof arg === \"string\" ||\n    typeof arg === \"symbol\" || // ES6 symbol\n    typeof arg === \"undefined\"\n  );\n}\n\n/**\n * 检测是否为Error对象\n * @param {*} e - 需待查询的对象\n * @returns {boolean}\n * */\nexport function isError(e: any): e is Error {\n  return getProtoStr(e) === \"[object Error]\" || e instanceof Error;\n}\n\n/**\n * 检测是否为对象\n * @param {*} arg - 需待查询的对象\n * @returns {boolean}\n * */\nexport function isObject(arg: any): arg is Object {\n  return getProtoStr(arg) === \"[object Object]\";\n}\n\n/**\n * 检测是否为DOM\n * @param {*} o - 需待查询的对象\n * @returns {boolean}\n * */\nexport function isDom(o: any): o is Node {\n  if (!o) {\n    return false;\n  }\n\n  if (!o.querySelectorAll || !o.querySelector) {\n    return false;\n  }\n\n  if (isObject(document) && o === document) {\n    return true;\n  }\n\n  if (typeof HTMLElement === \"object\") {\n    return o instanceof HTMLElement;\n  } else {\n    return (\n      o &&\n      typeof o === \"object\" &&\n      o.nodeType === 1 &&\n      typeof o.nodeName === \"string\"\n    );\n  }\n}\n\n/**\n * 检测是否为正则\n * @param {*} arg - 需待查询的对象\n * @returns {boolean}\n * */\nexport function isRegExp(arg: any): arg is RegExp {\n  return getProtoStr(arg) === \"[object RegExp]\";\n}\n\n/**\n * 检测是否为数组\n * @param {*} arg - 需待查询的对象\n * @returns {boolean}\n * */\nexport function isFunction(arg: any): arg is AnyFunction {\n  return typeof arg === \"function\";\n}\n\n/** 检测是否为日期对象 */\nexport function isDate(d: any): d is Date {\n  return getProtoStr(d) === \"[object Date]\";\n}\n\n/** 检测是否为布尔值 */\nexport function isBoolean(arg: any): arg is boolean {\n  return typeof arg === \"boolean\";\n}\n\n/** 检测是否为Null */\nexport function isNull(arg: any): arg is null {\n  return arg === null;\n}\n\n/** 检测是否为undefined */\nexport function isUndefined(arg: any): arg is undefined {\n  return arg === void 0;\n}\n\n/** 检测是否为null/undefined  */\nexport function isNullOrUndefined(arg: any): arg is null | undefined {\n  return arg == null;\n}\n\n/** 检测传入对象是否为: undefined、null、''、NaN */\nexport function isTrueEmpty(obj: any): boolean {\n  if (obj === undefined || obj === null || obj === \"\") return true;\n  return isNumber(obj) && isNaN(obj);\n}\n\n/* 检测传入对象是否为: undefined, null ,'', NaN, [], {}, 0, false  */\nexport function isEmpty(obj: any): boolean {\n  if (isTrueEmpty(obj)) return true;\n  if (isRegExp(obj)) {\n    return false;\n  } else if (isDate(obj)) {\n    return false;\n  } else if (isError(obj)) {\n    return false;\n  } else if (isArray(obj)) {\n    return obj.length === 0;\n  } else if (isString(obj)) {\n    return obj.length === 0;\n  } else if (isNumber(obj)) {\n    return obj === 0;\n  } else if (isBoolean(obj)) {\n    return !obj;\n  } else if (isObject(obj)) {\n    for (const key in obj) {\n      return false;\n    }\n    return true;\n  }\n  return false;\n}\n\n/** 如果入参为truthy或0则返回true，否则返回false */\nexport function isTruthyOrZero(arg: any): boolean {\n  return !!arg || arg === 0;\n}\n"],"names":["getProtoStr","o","Object","prototype","toString","call","isArray","arg","Array","isTruthyArray","length","isNumber","isNaN","isWeakNumber","Number","isString","isInt","value","x","parseFloat","isSymbol","isPrimitive","isError","e","Error","isObject","isDom","querySelectorAll","querySelector","document","HTMLElement","nodeType","nodeName","isRegExp","isFunction","isDate","d","isBoolean","isNull","isUndefined","isNullOrUndefined","isTrueEmpty","obj","undefined","isEmpty","key","isTruthyOrZero"],"mappings":"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"}