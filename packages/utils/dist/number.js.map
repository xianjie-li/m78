{"version":3,"sources":["/Users/lixianjie/project/openSource/m78/packages/utils/src/number.ts"],"sourcesContent":["import { isNumber, isWeakNumber } from \"./is.js\";\n\n/**\n * 获取指定区间内的随机数(双开区间)\n * @param min - 最小值\n * @param max - 最大值\n * @return - 随机数\n *  */\nexport function getRandRange(min: number, max: number) {\n  return Math.round((max - min) * Math.random() + min);\n}\n\n/**\n * 以指定精度锐化浮点数\n * @param num - 待处理的数字\n * @param precision - 1 | 精度\n * @return - 四舍五入到指定进度的小数\n * */\nexport function decimalPrecision(num: number, precision = 1) {\n  const mid = +`1${Array.from({ length: precision })\n    .map(() => \"0\")\n    .join(\"\")}`;\n\n  return Math.round(num * mid) / mid;\n}\n\n/** 将一组数字或类数字相加、非数字视为0 */\nexport function sum(...nums: any[]): number {\n  return nums.reduce((p, i) => {\n    return p + (isWeakNumber(i) ? Number(i) : 0);\n  }, 0);\n}\n\n/** 将一组数字或类数字相减 */\nexport function subtract(...nums): number {\n  return nums.reduce((p, i) => {\n    if (p === null) return i;\n    if (!isWeakNumber(i)) return p;\n    return p - i;\n  }, null);\n}\n\n/** 将弱数字转为数字，数字会原样返回 */\nexport function weakNumber(arg: any) {\n  return isWeakNumber(arg) ? Number(arg) : null;\n}\n\n/** 将数值限定到指定区间 */\nexport function clamp(val, min, max) {\n  if (isNumber(min) && val < min) return min;\n  if (isNumber(max) && val > max) return max;\n  return val;\n}\n"],"names":["isNumber","isWeakNumber","getRandRange","min","max","Math","round","random","decimalPrecision","num","precision","mid","Array","from","length","map","join","sum","nums","reduce","p","i","Number","subtract","weakNumber","arg","clamp","val"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,YAAY,QAAQ,SAAS,CAAC;AAEjD;;;;;IAKI,GACJ,OAAO,SAASC,YAAY,CAACC,GAAW,EAAEC,GAAW,EAAE;IACrD,OAAOC,IAAI,CAACC,KAAK,CAAC,AAACF,CAAAA,GAAG,GAAGD,GAAG,CAAA,GAAIE,IAAI,CAACE,MAAM,EAAE,GAAGJ,GAAG,CAAC,CAAC;AACvD,CAAC;AAED;;;;;GAKG,GACH,OAAO,SAASK,gBAAgB,CAACC,GAAW,EAAiB;QAAfC,SAAS,GAATA,+CAAa,kBAAD,CAAC;IACzD,IAAMC,GAAG,GAAG,CAAC,AAAC,GAAC,CAEH,MAAA,CAFKC,KAAK,CAACC,IAAI,CAAC;QAAEC,MAAM,EAAEJ,SAAS;KAAE,CAAC,CAC/CK,GAAG,CAAC;eAAM,GAAG;KAAA,CAAC,CACdC,IAAI,CAAC,EAAE,CAAC,CAAE,AAAC;IAEd,OAAOX,IAAI,CAACC,KAAK,CAACG,GAAG,GAAGE,GAAG,CAAC,GAAGA,GAAG,CAAC;AACrC,CAAC;AAED,uBAAuB,GACvB,OAAO,SAASM,GAAG,GAAyB;IAAxB,IAAA,IAAA,IAAc,GAAd,SAAc,CAAd,MAAc,EAAd,AAAGC,IAAI,GAAP,UAAA,IAAc,CAAA,EAAd,IAAc,GAAd,CAAc,EAAd,IAAc,GAAd,IAAc,EAAd,IAAc,EAAA,CAAd;QAAA,AAAGA,IAAI,CAAP,IAAc,IAAd,SAAc,AAAd,CAAA,IAAc,CAAA,CAAA;IAAD,CAAC;IAChC,OAAOA,IAAI,CAACC,MAAM,CAAC,SAACC,CAAC,EAAEC,CAAC,EAAK;QAC3B,OAAOD,CAAC,GAAInB,CAAAA,YAAY,CAACoB,CAAC,CAAC,GAAGC,MAAM,CAACD,CAAC,CAAC,GAAG,CAAC,CAAA,AAAC,CAAC;IAC/C,CAAC,EAAE,CAAC,CAAC,CAAC;AACR,CAAC;AAED,gBAAgB,GAChB,OAAO,SAASE,QAAQ,GAAkB;IAAjB,IAAA,IAAA,IAAO,GAAP,SAAO,CAAP,MAAO,EAAP,AAAGL,IAAI,GAAP,UAAA,IAAO,CAAA,EAAP,IAAO,GAAP,CAAO,EAAP,IAAO,GAAP,IAAO,EAAP,IAAO,EAAA,CAAP;QAAA,AAAGA,IAAI,CAAP,IAAO,IAAP,SAAO,AAAP,CAAA,IAAO,CAAA,CAAA;IAAD,CAAC;IAC9B,OAAOA,IAAI,CAACC,MAAM,CAAC,SAACC,CAAC,EAAEC,CAAC,EAAK;QAC3B,IAAID,CAAC,KAAK,IAAI,EAAE,OAAOC,CAAC,CAAC;QACzB,IAAI,CAACpB,YAAY,CAACoB,CAAC,CAAC,EAAE,OAAOD,CAAC,CAAC;QAC/B,OAAOA,CAAC,GAAGC,CAAC,CAAC;IACf,CAAC,EAAE,IAAI,CAAC,CAAC;AACX,CAAC;AAED,qBAAqB,GACrB,OAAO,SAASG,UAAU,CAACC,GAAQ,EAAE;IACnC,OAAOxB,YAAY,CAACwB,GAAG,CAAC,GAAGH,MAAM,CAACG,GAAG,CAAC,GAAG,IAAI,CAAC;AAChD,CAAC;AAED,eAAe,GACf,OAAO,SAASC,KAAK,CAACC,GAAG,EAAExB,GAAG,EAAEC,GAAG,EAAE;IACnC,IAAIJ,QAAQ,CAACG,GAAG,CAAC,IAAIwB,GAAG,GAAGxB,GAAG,EAAE,OAAOA,GAAG,CAAC;IAC3C,IAAIH,QAAQ,CAACI,GAAG,CAAC,IAAIuB,GAAG,GAAGvB,GAAG,EAAE,OAAOA,GAAG,CAAC;IAC3C,OAAOuB,GAAG,CAAC;AACb,CAAC"}