{"version":3,"sources":["/Users/lixianjie/project/openSource/m78/packages/hooks/src/effect/use-effect-equal/use-effect-equal.ts"],"sourcesContent":["import React, { useEffect, useMemo, useRef } from \"react\";\nimport { usePrev } from \"../../\";\nimport _isEqualWith from \"lodash/isEqualWith\";\nimport { IsEqualCustomizer } from \"lodash\";\n\n/**\n *  ÊîØÊåÅÂØπdepsËøõË°åÊ∑±Â∫¶ÂØπÊØîÁöÑ`useEffect`\n *  üí°‰øùÊåÅdepsÂÄºÁªìÊûÑÁõ∏ÂØπÁÆÄÂçïËÉΩÂ§üÂáèÂ∞ëÂØπÊØîÊ∑±Â∫¶Ôºå‰ªéËÄåÊèêÈ´òÊÄßËÉΩ\n *  @param effect - ÂêåuseEffectÂèÇÊï∞\n *  @param deps - ‰æùËµñÊï∞ÁªÑÔºåÁî®Ê≥ï‰∏éuseEffect‰∏ÄËá¥Ôºå‰ΩÜÊòØ‰ºöÂØπdepÈ°πÊâßË°åÊ∑±ÂØπÊØî\n *  @param customizer - ÂèØ‰ª•ÈÄöËøáÊ≠§ÂáΩÊï∞Ëá™ÂÆö‰πâÂØπÊØîÊñπÂºè, Â¶ÇÊûúÁõ∏Á≠âËøîÂõû trueÔºåÂê¶ÂàôËøîÂõû false, ËøîÂõûundefinedÊó∂‰ΩøÁî®ÈªòËÆ§ÂØπÊØîÊñπÂºè\n * */\nexport function useEffectEqual(\n  effect: React.EffectCallback,\n  deps?: any[],\n  customizer?: IsEqualCustomizer\n) {\n  const prev = usePrev(deps);\n  const dep = useRef(0);\n\n  const isEqual = useMemo(\n    () => _isEqualWith(deps, prev, customizer),\n    [deps] /* ËøôÈáå‰∏çËÉΩÁõ¥Êé•‰º†deps, Èò≤Ê≠¢ÂºïÁî®Áõ∏ÂΩì‰ΩÜÂÆûÈôÖÂÄºÂ∑≤Áªè‰∏çÁõ∏Á≠âÁöÑÊÉÖÂÜµ */\n  );\n\n  if (!isEqual) {\n    dep.current++;\n  }\n\n  useEffect(effect, [dep.current]);\n}\n"],"names":["React","useEffect","useMemo","useRef","usePrev","_isEqualWith","useEffectEqual","effect","deps","customizer","prev","dep","isEqual","current"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,EAAEC,MAAM,QAAQ,OAAO,CAAC;AAC1D,SAASC,OAAO,QAAQ,QAAQ,CAAC;AACjC,OAAOC,YAAY,MAAM,oBAAoB,CAAC;AAG9C;;;;;;GAMG,GACH,OAAO,SAASC,cAAc,CAC5BC,MAA4B,EAC5BC,IAAY,EACZC,UAA8B,EAC9B;IACA,IAAMC,IAAI,GAAGN,OAAO,CAACI,IAAI,CAAC,AAAC;IAC3B,IAAMG,GAAG,GAAGR,MAAM,CAAC,CAAC,CAAC,AAAC;IAEtB,IAAMS,OAAO,GAAGV,OAAO,CACrB;eAAMG,YAAY,CAACG,IAAI,EAAEE,IAAI,EAAED,UAAU,CAAC;KAAA,EAC1C;QAACD,IAAI;KAAC,CACP,AAAC;IAEF,IAAI,CAACI,OAAO,EAAE;QACZD,GAAG,CAACE,OAAO,EAAE,CAAC;IAChB,CAAC;IAEDZ,SAAS,CAACM,MAAM,EAAE;QAACI,GAAG,CAACE,OAAO;KAAC,CAAC,CAAC;AACnC,CAAC"}